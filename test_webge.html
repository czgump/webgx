<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--
        <script src="./node_modules/zrender/dist/zrender.js"></script>

    -->
    <script src="./dist/webge/webge.js"></script>
</head>
<body>
<div id="example-container" style="width:600px;height:600px"  onkeydown="alert('test')" onkeypress="alert(222)"></div>
<script>
    window.onload = function() {
        // var container = document.getElementsByClassName('example-container')[0];
        var container = document.getElementById('example-container');

        // var zr = zrender.init(container);
        var zr = webge.init(container);

        var w = zr.getWidth();
        var h = zr.getHeight();

        var isMouseDown = false;
        zr.on('mousedown', function (e) {
            isMouseDown = true;
            console.info('zr mousedown');
        });
        zr.on('mouseup', function (e) {
            console.info('zr mouseup');
            isMouseDown = false;
        });

        zr.on('mousemove', function (e) {
            console.info('zr mousemove');
        });

        var elementStyle = {
            stroke: 'black',
            fill: 'white'
        };

        var circle = new webge.Circle({
            shape: {
                cx: 0,
                cy: 0,
                r: 50
            },
            position: [
                100,
                100
            ],
            style: elementStyle,
            draggable: true
        });

        zr.add(circle);

        circle = new webge.Circle({
            shape: {
                cx: 0,
                cy: 0,
                r: 30
            },
            position: [
                150,
                150
            ],
            style: elementStyle,
            draggable: true
        });

        zr.add(circle);

        /*
        var group = new webge.Group();
        for (var i = 0; i < 10; ++i) {
            var r = 50 * Math.random() + 20;
            var circle = new webge.Circle({
                shape: {
                    cx: 0,
                    cy: 0,
                    r: r
                },
                position: [
                    (w * 0.6 - r * 2) * Math.random() + r + w * 0.2,
                    (h * 0.6 - r * 2) * Math.random() + r + h * 0.2
                ],
                style: elementStyle,
                draggable: true
            })
                .on('mousemove', function () {
                    console.info('circle mousemove');
                    if (isMouseDown) {
                        var rect = group.getBoundingRect();
                        boundingRect.setShape({
                            x: rect.x,
                            y: rect.y,
                            width: rect.width,
                            height: rect.height
                        });
                    }
                }).on('mousedown', function(){
                    console.info('circle  mousedown');
                });
            group.add(circle);
        }
        zr.add(group);

        var rect = group.getBoundingRect();
        var boundingRect = new webge.Rect({
            shape: {
                cx: 0,
                cy: 0,
                x: rect.x,
                y: rect.y,
                width: rect.width,
                height: rect.height
            },
            style: {
                fill: 'none',
                stroke: '#14f1ff'
            }
        });
        zr.add(boundingRect);
        */

        zr.switchTool('zoomrect');
    }
</script>
</body>
</html>